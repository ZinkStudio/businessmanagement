<ui:composition
    template="./WEB-INF/layout/index.xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:c="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

    <ui:define name="title">
        <h:outputText value="#{msg['client.create.html.title']}" />
    </ui:define>

    <ui:define name="heading1">
        <h:outputText id="heading1" value="#{msg['client.create.heading']}" />
    </ui:define>

    <ui:define name="breadcrumb">
        <p:menuitem
            outcome="index"
            value="#{msg['breadcrumb.client.index']}" />
    </ui:define>

    <ui:define name="content">

        <h:form id="formClientCreate" styleClass="form-horizontal">
            <p:panel id="formPanel" header="#{msg['client.label.legend']}">

                <!--<p:messages id="messages" showDetail="true" />--> 

                <h:panelGrid columns="3" cellpadding="5" styleClass="padding5">
                    <p:outputLabel for="code" value="#{msg['client.label.code']}" />
                    <p:inputText
                        id="code"
                        value="#{clientSaveView.client.code}"
                        disabled="true"
                        required="true">
                    </p:inputText>
                    <p:message for="code" />

                    <p:outputLabel for="nom" value="#{msg['client.label.nom']}" />
                    <p:inputText id="nom" value="#{clientSaveView.client.nom}"
                                 required="true">
                        <c:validator validatorId="noWhiteSpaceValidator" />
                    </p:inputText>
                    <p:message for="nom" />

                    <p:outputLabel for="prenom" value="#{msg['client.label.prenom']}" />
                    <p:inputText id="prenom" value="#{clientSaveView.client.prenom}"
                                 required="true">
                        <c:validator validatorId="noWhiteSpaceValidator" />
                    </p:inputText>
                    <p:message for="prenom" />


                    <p:outputLabel for="civilite"
                                   value="#{msg['client.label.civilite']}" />
                    <p:selectOneMenu id="civilite" value="#{clientSaveView.client.civilite}">
                        <c:selectItem itemLabel="#{msg['client.label.civilite.monsieur']}" itemValue="#{data.civilites[0]}" />
                        <c:selectItem itemLabel="#{msg['client.label.civilite.madame']}" itemValue="#{data.civilites[1]}" />
                    </p:selectOneMenu>					
                    <p:message for="civilite" />

                    <p:outputLabel for="email" value="#{msg['client.label.email']}" />
                    <p:inputText id="email" value="#{clientSaveView.client.email}"
                                 required="true">
                        <c:validator validatorId="emailValidator" />
                    </p:inputText>
                    <p:message for="email" />

                    <p:outputLabel for="naissance" value="#{msg['client.label.naissance']}" />
                    <p:calendar id="naissance" value="#{clientSaveView.client.naissance}" />
                    <p:message for="naissance"/>

                    <p:outputLabel for="fixe" value="#{msg['client.label.fixe']}" />
                    <p:inputMask id="fixe" value="#{clientSaveView.client.fixe}"
                                 mask="(99) 99-99-99-99" required="true">
                    </p:inputMask>
                    <p:message for="fixe" />

                    <p:outputLabel for="mobile" value="#{msg['client.label.mobile']}" />
                    <p:inputMask id="mobile" value="#{clientSaveView.client.mobile}"
                                 mask="(99) 99-99-99-99">
                    </p:inputMask>
                    <p:message for="mobile" />

                    <p:outputLabel for="adresseLibelle" value="#{msg['client.label.adresse']}" />
                    <p:inputText id="adresseLibelle" value="#{clientSaveView.client.adresse.libelle}"
                                 required="true">
                        <c:validator validatorId="noWhiteSpaceValidator" />
                    </p:inputText>
                    <p:message for="adresseLibelle" />

                    <p:outputLabel for="adresseComplement"
                                   value="#{msg['client.label.complement']}" />
                    <p:inputText id="adresseComplement"
                                 value="#{clientSaveView.client.adresse.complement}" required="true">
                        <c:validator validatorId="noWhiteSpaceValidator" />
                    </p:inputText>
                    <p:message for="adresseComplement" />

                    <p:outputLabel for="codePostal"
                                   value="#{msg['client.label.codePostal']}" />
                    <p:inputMask id="codePostal"
                                 value="#{clientSaveView.client.adresse.codePostal}" mask="99999" required="true">						
                    </p:inputMask>
                    <p:message for="codePostal" />

                    <p:outputLabel for="commune" value="#{msg['client.label.commune']}" />
                    <p:inputText id="commune" value="#{clientSaveView.client.adresse.commune}"
                                 required="true">
                        <c:validator validatorId="noWhiteSpaceValidator" />
                    </p:inputText>
                    <p:message for="commune" />

                    <p:outputLabel for="newsLetter"
                                   value="#{msg['client.label.newsletter']}" />
                    <p:selectBooleanButton id="newsLetter"
                                           value="#{clientSaveView.client.autoriseNewsletter}" onLabel="Oui"
                                           offLabel="Non" onIcon="ui-icon-check" offIcon="ui-icon-close">
                    </p:selectBooleanButton>
                    <p:message for="newsLetter" />

                </h:panelGrid>

                <p:commandButton id="cmd-flash" value="#{msg['client.create.form.command.save']}"
                                 update="formClientCreate" action="#{clientSaveView.save}"
                                 style="margin:1em;">
                    <c:setPropertyActionListener value="#{clientSaveView.client}"
                                                 target="#{clientSaveView.client}" />
                </p:commandButton>

            </p:panel>
        </h:form>

    </ui:define>
</ui:composition>